"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e,n,s){return t[1]&&s?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](s(e))):n.ctx}function i(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function m(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e,n){t.classList[n?"add":"remove"](e)}let p;function g(t){p=t}function v(){const t=function(){if(!p)throw new Error("Function called outside component initialization");return p}();return(e,n)=>{const s=t.$$.callbacks[e];if(s){const o=function(t,e,n=!1){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,!1,e),s}(e,n);s.slice().forEach((e=>{e.call(t,o)}))}}}const y=[],k=[],b=[],x=[],w=Promise.resolve();let L=!1;function E(t){b.push(t)}let _=!1;const S=new Set;function T(){if(!_){_=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];g(e),D(e.$$)}for(g(null),y.length=0;k.length;)k.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];S.has(e)||(S.add(e),e())}b.length=0}while(y.length);for(;x.length;)x.pop()();L=!1,_=!1,S.clear()}}function D(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const C=new Set;function P(t,e){t&&t.i&&(C.delete(t),t.i(e))}function N(t,e,n,s){if(t&&t.o){if(C.has(t))return;C.add(t),undefined.c.push((()=>{C.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}function M(t){t&&t.c()}function A(t,n,r,c){const{fragment:i,on_mount:u,on_destroy:l,after_update:a}=t.$$;i&&i.m(n,r),c||E((()=>{const n=u.map(e).filter(o);l?l.push(...n):s(n),t.$$.on_mount=[]})),a.forEach(E)}function O(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(y.push(t),L||(L=!0,w.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I(e,o,r,c,i,u,a,d=[-1]){const f=p;g(e);const m=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:o.target||f.$$.root};a&&a(m.root);let $=!1;if(m.ctx=r?r(e,o.props||{},((t,n,...s)=>{const o=s.length?s[0]:n;return m.ctx&&i(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),$&&q(e,t)),n})):[],m.update(),$=!0,s(m.before_update),m.fragment=!!c&&c(m.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);m.fragment&&m.fragment.l(t),t.forEach(l)}else m.fragment&&m.fragment.c();o.intro&&P(e.$$.fragment),A(e,o.target,o.anchor,o.customElement),T()}g(f)}class R{$destroy(){O(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const j=[{name:"dark",title:"Arc Dark",isDark:!0},{name:"materia-dark",title:"Materia Dark",isDark:!0},{name:"light",title:"Light",isDark:!1},{name:"Solarized",title:"Solarized",isDark:!1},{name:"Lucky",title:"Lucky",isDark:!1}];class B{constructor(){const t=localStorage.getItem("theme-selected");"auto"!==t&&t?(this.setTheme(t),this.isCurrentThemeAuto=!1):(this.setTheme(this.getCurrentDefaultTheme()),this.isCurrentThemeAuto=!0)}setTheme(t){const e="auto"===t?this.getCurrentDefaultTheme():t;document.documentElement.classList.forEach((t=>{t.startsWith("theme--")&&document.documentElement.classList.remove(t)})),document.documentElement.classList.add(`theme--${e}`),this.currentThemeName=e}getCurrentDefaultTheme(){const t=localStorage.getItem("light-theme")||"light",e=localStorage.getItem("dark-theme")||"dark";return matchMedia("(prefers-color-scheme: dark)").matches?e:t}onThemeChange(t){if(this.setTheme(t),this.isCurrentThemeAuto=!1,"auto"!==t){const e=j.find((e=>e.name===t));e&&localStorage.setItem(e.isDark?"dark-theme":"light-theme",t)}localStorage.setItem("theme-selected",t)}currentThemeName;isCurrentThemeAuto}function U(t,e,n){const s=t.slice();return s[2]=e[n],s}function z(e){let n,s,o,r=e[2].title+"";return{c(){n=a("option"),s=d(r),n.__value=o=e[2].name,n.value=n.__value},m(t,e){u(t,n,e),i(n,s)},p:t,d(t){t&&l(n)}}}function F(e){let n,s,o,r,c,f,h=j,p=[];for(let t=0;t<h.length;t+=1)p[t]=z(U(e,h,t));return{c(){n=a("label"),s=a("select"),o=a("option"),r=d("Auto");for(let t=0;t<p.length;t+=1)p[t].c();o.__value="auto",o.value=o.__value,$(s,"name","color_theme"),$(s,"class","svelte-ub705j"),$(n,"aria-label","Theme picker")},m(t,l){u(t,n,l),i(n,s),i(s,o),i(o,r);for(let t=0;t<p.length;t+=1)p[t].m(s,null);!function(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}t.selectedIndex=-1}(s,e[0].isCurrentThemeAuto?"auto":e[0].currentThemeName),c||(f=m(s,"change",e[1]),c=!0)},p(t,[e]){if(0&e){let n;for(h=j,n=0;n<h.length;n+=1){const o=U(t,h,n);p[n]?p[n].p(o,e):(p[n]=z(o),p[n].c(),p[n].m(s,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=h.length}},i:t,o:t,d(t){t&&l(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(p,t),c=!1,f()}}}function H(t){const e=new B;return[e,function({currentTarget:t}){e.onThemeChange(t.value)}]}class W extends R{constructor(t){super(),I(this,t,H,F,r,{})}}class G{constructor(t=6e5){this.msLeft=t,this.lastDuration=t}calculatedEnd=0;msLeft=0;running=!1;stopRequested=!1;pauseRequested=!1;lastDuration;notifyPoints=[];addNotifyPoint(t,e){this.notifyPoints.push({msLeft:t,text:e,triggered:!1})}stop(){this.stopRequested=!0,this.msLeft=0,this.setDuration(this.lastDuration)}reschedule(){this.calculatedEnd=performance.now()+this.msLeft;for(const t of this.notifyPoints)t.triggered=t.msLeft>=this.msLeft}toggle(){return this.running?(this.pauseRequested=!0,J.Paused):(this.running=!0,this.pauseRequested=!1,this.stopRequested=!1,this.reschedule(),J.Continue)}tick(){let t=Math.max(this.calculatedEnd-performance.now(),0);const e=[];for(const n of this.notifyPoints)t<=n.msLeft&&!n.triggered&&(n.triggered=!0,e.push(n));return t<=0?(this.running=!1,this.msLeft=0,[J.Elapsed,e]):this.stopRequested?(this.running=!1,[J.Stopped,e]):this.pauseRequested?(this.running=!1,this.msLeft=t,[J.Paused,e]):(this.msLeft=t,[J.Continue,e])}get canStop(){return(this.running||this.msLeft>0)&&this.msLeft!==this.lastDuration}get canToggle(){return this.running||this.msLeft>0}setDuration(t){this.msLeft=t,this.lastDuration=t,this.reschedule()}}var J;!function(t){t[t.Continue=0]="Continue",t[t.Stopped=1]="Stopped",t[t.Paused=2]="Paused",t[t.Elapsed=3]="Elapsed"}(J||(J={}));class K{constructor(){this.counter=new G,this.counter.addNotifyPoint(3e4,"30 seconds left"),this.counter.addNotifyPoint(6e4,"1 minute left"),this.counter.addNotifyPoint(3e5,"5 minutes left"),this.counter.addNotifyPoint(6e5,"10 minutes left"),this.counter.addNotifyPoint(18e5,"30 minutes left"),window.onbeforeunload=this.onBeforeUnload.bind(this)}onBeforeUnload(t){return this.counter.canStop?(t.preventDefault(),"Please don't"):void 0}static instance=new K;counter}function Q(t){setTimeout(t,10)}function V(t,e=!0){let n=(""+Math.floor(t/36e5)).padStart(2,"0"),s=(""+Math.floor(t/6e4%60)).padStart(2,"0"),o=(""+Math.floor(t/1e3)%60).padStart(2,"0"),r=(""+Math.floor(t%1e3/10)).padStart(2,"0");return e?`${n}:${s}:${o}.${r}`:`${n}:${s}:${o}`}function X(t){return new Promise(((e,n)=>{function s(){t.removeEventListener("ended",s),e()}t.addEventListener("ended",s),t.play().catch((t=>{removeEventListener("ended",s),n(t)}))}))}async function Y(t){if(!window.SpeechSynthesisUtterance||!window.speechSynthesis)return;let e=new SpeechSynthesisUtterance(t);e.lang="en-US",window.speechSynthesis.speak(e)}function Z(t){return/^[0-9]+$/.test(t)?+t:void 0}function tt(e){let n,s,o,r,c;return{c(){n=a("label"),s=a("input"),s.value=o=V(e[2]?1e3*Math.ceil(e[0]/1e3):e[0]),$(s,"onchange",e[6]),$(s,"autocomplete",!1),s.readOnly=e[1],$(s,"class","svelte-1gonl65"),h(s,"invalid",!e[3]),$(n,"aria-label","Time left"),$(n,"class","svelte-1gonl65")},m(t,o){u(t,n,o),i(n,s),r||(c=m(s,"blur",e[5]),r=!0)},p(t,[e]){5&e&&o!==(o=V(t[2]?1e3*Math.ceil(t[0]/1e3):t[0]))&&s.value!==o&&(s.value=o),2&e&&(s.readOnly=t[1]),8&e&&h(s,"invalid",!t[3])},i:t,o:t,d(t){t&&l(n),r=!1,c()}}}function et(t,e,n){let{time:s}=e,{readOnly:o}=e,r=!1;const c=matchMedia("(prefers-reduced-motion: reduce)");c.addEventListener("change",(t=>{n(2,r=t.matches)})),r=c.matches;const i=v();let u=!0,l=!1,a="";function d(t){a=t,l=!0}return t.$$set=t=>{"time"in t&&n(0,s=t.time),"readOnly"in t&&n(1,o=t.readOnly)},[s,o,r,u,d,function(){if(!l)return;let{parsed:t,success:e}=function(t){let e=t.indexOf(".");if(e<0)return{parsed:void 0,success:!1};let n=t.slice(e+1);if(2!==n.length)return{parsed:void 0,success:!1};let s=Z(n);if(null==s)return{parsed:void 0,success:!1};let o=t.slice(0,e).split(":");if(o.some((t=>t.length>2)))return{parsed:void 0,success:!1};let r=o.map((t=>Z(t))).reverse();if(r.some((t=>null==t||t>=60)))return{parsed:void 0,success:!1};if(r.length>3||r.length<1)return{parsed:void 0,success:!1};let c=r,i=10*s+1e3*c[0];return c.length>=2&&(i+=1e3*c[1]*60),c.length>=3&&(i+=1e3*c[2]*60*60),{parsed:i,success:!0}}(a);n(3,u=e),l=!1,null!=t&&i("change",{value:t})},t=>d(t.target.value)]}class nt extends R{constructor(t){super(),I(this,t,et,tt,r,{time:0,readOnly:1})}}function st(t){let e,n,s,o;const r=t[3].default,i=function(t,e,n,s){if(t){const o=c(t,e,n,s);return t[0](o)}}(r,t,t[2],null);return{c(){e=a("button"),i&&i.c(),e.disabled=t[0],$(e,"class","svelte-1ocnj4o")},m(r,c){u(r,e,c),i&&i.m(e,null),n=!0,s||(o=m(e,"click",t[4]),s=!0)},p(t,[s]){i&&i.p&&(!n||4&s)&&function(t,e,n,s,o,r){if(o){const i=c(e,n,s,r);t.p(i,o)}}(i,r,t,t[2],n?function(t,e,n,s){if(t[2]&&s){const o=t[2](s(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|o[s];return t}return e.dirty|o}return e.dirty}(r,t[2],s,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[2]),null),(!n||1&s)&&(e.disabled=t[0])},i(t){n||(P(i,t),n=!0)},o(t){N(i,t),n=!1},d(t){t&&l(e),i&&i.d(t),s=!1,o()}}}function ot(t,e,n){let{$$slots:s={},$$scope:o}=e,{disabled:r=!1}=e;const c=v();return t.$$set=t=>{"disabled"in t&&n(0,r=t.disabled),"$$scope"in t&&n(2,o=t.$$scope)},[r,c,o,s,()=>c("click")]}class rt extends R{constructor(t){super(),I(this,t,ot,st,r,{disabled:0})}}function ct(t){let e;return{c(){e=d("Start")},m(t,n){u(t,e,n)},d(t){t&&l(e)}}}function it(t){let e;return{c(){e=d("Stop")},m(t,n){u(t,e,n)},d(t){t&&l(e)}}}function ut(e){let n;let s=function(t,e){return t[1].counter.running?it:ct}(e),o=s(e);return{c(){o.c(),n=d("")},m(t,e){o.m(t,e),u(t,n,e)},p:t,d(t){o.d(t),t&&l(n)}}}function lt(t){let e;return{c(){e=d("Stop")},m(t,n){u(t,e,n)},d(t){t&&l(e)}}}function at(t){let e;return{c(){e=d("1 minute")},m(t,n){u(t,e,n)},d(t){t&&l(e)}}}function dt(t){let e;return{c(){e=d("5 minutes")},m(t,n){u(t,e,n)},d(t){t&&l(e)}}}function ft(t){let e;return{c(){e=d("10 minutes")},m(t,n){u(t,e,n)},d(t){t&&l(e)}}}function mt(t){let e;return{c(){e=d("15 minutes")},m(t,n){u(t,e,n)},d(t){t&&l(e)}}}function $t(t){let e;return{c(){e=d("30 minutes")},m(t,n){u(t,e,n)},d(t){t&&l(e)}}}function ht(t){let e;return{c(){e=d("1 hour")},m(t,n){u(t,e,n)},d(t){t&&l(e)}}}function pt(t){let e,n,s,o,r,c,d,m,h,p,g,v,y,k,b,x,w,L,E,_,S,T,D,C,q,I,R,j,B,U,z,F;return n=new nt({props:{time:t[0],readOnly:t[1].counter.msLeft}}),n.$on("change",t[4]),c=new rt({props:{disabled:!t[1].counter.canToggle,$$slots:{default:[ut]},$$scope:{ctx:t}}}),c.$on("click",t[3]),h=new rt({props:{disabled:!t[1].counter.canStop,$$slots:{default:[lt]},$$scope:{ctx:t}}}),h.$on("click",t[5]),y=new rt({props:{$$slots:{default:[at]},$$scope:{ctx:t}}}),y.$on("click",t[6]),x=new rt({props:{$$slots:{default:[dt]},$$scope:{ctx:t}}}),x.$on("click",t[7]),E=new rt({props:{$$slots:{default:[ft]},$$scope:{ctx:t}}}),E.$on("click",t[8]),T=new rt({props:{$$slots:{default:[mt]},$$scope:{ctx:t}}}),T.$on("click",t[9]),q=new rt({props:{$$slots:{default:[$t]},$$scope:{ctx:t}}}),q.$on("click",t[10]),j=new rt({props:{$$slots:{default:[ht]},$$scope:{ctx:t}}}),j.$on("click",t[11]),z=new W({}),{c(){e=a("div"),M(n.$$.fragment),s=f(),o=a("div"),r=a("div"),M(c.$$.fragment),d=f(),m=a("div"),M(h.$$.fragment),p=f(),g=a("div"),v=a("div"),M(y.$$.fragment),k=f(),b=a("div"),M(x.$$.fragment),w=f(),L=a("div"),M(E.$$.fragment),_=f(),S=a("div"),M(T.$$.fragment),D=f(),C=a("div"),M(q.$$.fragment),I=f(),R=a("div"),M(j.$$.fragment),B=f(),U=a("div"),M(z.$$.fragment),$(r,"class","button svelte-nc9uvk"),$(m,"class","button svelte-nc9uvk"),$(o,"class","button-group svelte-nc9uvk"),$(v,"class","button svelte-nc9uvk"),$(b,"class","button svelte-nc9uvk"),$(L,"class","button svelte-nc9uvk"),$(S,"class","button svelte-nc9uvk"),$(C,"class","button svelte-nc9uvk"),$(R,"class","button svelte-nc9uvk"),$(g,"class","button-group svelte-nc9uvk"),$(U,"class","theme-picker svelte-nc9uvk"),$(U,"id","theme-picker"),$(e,"class","container svelte-nc9uvk")},m(t,l){u(t,e,l),A(n,e,null),i(e,s),i(e,o),i(o,r),A(c,r,null),i(o,d),i(o,m),A(h,m,null),i(e,p),i(e,g),i(g,v),A(y,v,null),i(g,k),i(g,b),A(x,b,null),i(g,w),i(g,L),A(E,L,null),i(g,_),i(g,S),A(T,S,null),i(g,D),i(g,C),A(q,C,null),i(g,I),i(g,R),A(j,R,null),i(e,B),i(e,U),A(z,U,null),F=!0},p(t,[e]){const s={};1&e&&(s.time=t[0]),n.$set(s);const o={};8192&e&&(o.$$scope={dirty:e,ctx:t}),c.$set(o);const r={};8192&e&&(r.$$scope={dirty:e,ctx:t}),h.$set(r);const i={};8192&e&&(i.$$scope={dirty:e,ctx:t}),y.$set(i);const u={};8192&e&&(u.$$scope={dirty:e,ctx:t}),x.$set(u);const l={};8192&e&&(l.$$scope={dirty:e,ctx:t}),E.$set(l);const a={};8192&e&&(a.$$scope={dirty:e,ctx:t}),T.$set(a);const d={};8192&e&&(d.$$scope={dirty:e,ctx:t}),q.$set(d);const f={};8192&e&&(f.$$scope={dirty:e,ctx:t}),j.$set(f)},i(t){F||(P(n.$$.fragment,t),P(c.$$.fragment,t),P(h.$$.fragment,t),P(y.$$.fragment,t),P(x.$$.fragment,t),P(E.$$.fragment,t),P(T.$$.fragment,t),P(q.$$.fragment,t),P(j.$$.fragment,t),P(z.$$.fragment,t),F=!0)},o(t){N(n.$$.fragment,t),N(c.$$.fragment,t),N(h.$$.fragment,t),N(y.$$.fragment,t),N(x.$$.fragment,t),N(E.$$.fragment,t),N(T.$$.fragment,t),N(q.$$.fragment,t),N(j.$$.fragment,t),N(z.$$.fragment,t),F=!1},d(t){t&&l(e),O(n),O(c),O(h),O(y),O(x),O(E),O(T),O(q),O(j),O(z)}}}function gt(t,e,n){const s=K.instance;let o=s.counter.msLeft;function r(t){s.counter.setDuration(function(t){let e=1;switch(t.slice(-1)){case"s":e=1e3;break;case"m":e=6e4;break;case"h":e=36e5}let n=parseInt(t);return isNaN(n)?0:n*e}(t))}function c(){let[t,e]=s.counter.tick();switch(n(0,o=s.counter.msLeft),t){case J.Elapsed:!async function(t=2){let e=document.getElementById("beep-sound");if(e&&e instanceof HTMLAudioElement)for(let n=0;n<t;++n)await X(e)}();break;case J.Continue:Q(c)}for(const t of e)Y(t.text)}return t.$$.update=()=>{1&t.$$.dirty&&(document.title=o>0?`${V(o,!1)} - Timer`:"Timer")},[o,s,r,function(){s.counter.toggle()===J.Continue&&Q(c)},t=>s.counter.setDuration(t),()=>s.counter.stop(),()=>r("1m"),()=>r("5m"),()=>r("10m"),()=>r("15m"),()=>r("30m"),()=>r("1h")]}const vt=document.getElementById("root");new class extends R{constructor(t){super(),I(this,t,gt,pt,r,{})}}({target:vt});
